<!--
 * @Author: chenyuting
 * @Date: 2024-07-08 16:17:34
 * @LastEditors: chenyuting
 * @LastEditTime: 2025-02-13 11:35:37
 * @Description: 
-->
<app-page-header [pageHeaderInfo]="pageHeaderInfo"></app-page-header>

<div class="normal-table-wrap">
  <nz-card [nzBodyStyle]="{ 'padding-bottom': 0 }" class="m-b-10">
    <nz-alert
      nzType="info"
      class="w-60"
      [nzMessage]="
        'This module is used to configure the minimum balance required for the liquidity pool of each currency in the Kissen network.'
      "
      nzShowIcon
    ></nz-alert>
    <form nz-form [formGroup]="validateForm" class="m-t-50">
      <div
        nz-row
        nzJustify="start"
        nzAlign="middle"
        class="m-b-10"
        nzGutter="8"
      >
        <div
          nz-col
          nzSpan="14"
          *ngFor="let control of listOfControl; let i = index"
        >
          <div nz-row nzJustify="space-between" nzGutter="8">
            <div
              nz-col
              [nzXXl]="10"
              [nzXl]="10"
              [nzLg]="12"
              [nzMd]="12"
              [nzSm]="24"
              [nzXs]="24"
            >
              <nz-form-item>
                <nz-form-label nzSpan="24" nzRequired *ngIf="i === 0">
                  Token Name
                </nz-form-label>
                <nz-form-control [nzErrorTip]="tokenNameError">
                  <div nz-row>
                    <div nz-col nzSpan="24">
                      <input
                        nz-input
                        readonly
                        class="onboard-disabled"
                        [formControlName]="control.centralBankName"
                      />
                    </div>
                  </div>
                  <ng-template #tokenNameError let-control>
                    <ng-container *ngIf="control.hasError('required')"
                      >Please input your Minimum Balance</ng-container
                    >
                  </ng-template>
                </nz-form-control>
              </nz-form-item>
            </div>
            <div
              nz-col
              [nzXXl]="10"
              [nzXl]="10"
              [nzLg]="12"
              [nzMd]="12"
              [nzSm]="24"
              [nzXs]="24"
            >
              <nz-form-item>
                <nz-form-label nzRequired nzSpan="24" *ngIf="i === 0"
                  >Minimum Balance
                </nz-form-label>
                <nz-form-control [nzErrorTip]="minimumBalanceError">
                  <div nz-row>
                    <div nz-col nzSpan="24">
                      <input
                        nz-input
                        [formControlName]="control.minimumBalance"
                      />
                    </div>
                  </div>
                  <ng-template #minimumBalanceError let-control>
                    <ng-container *ngIf="control.hasError('required')"
                      >Please input your Minimum Balance</ng-container
                    >
                    <ng-container *ngIf="control.hasError('regular')"
                      >Incorrect Minimum Balance format
                    </ng-container>
                  </ng-template>
                </nz-form-control>
              </nz-form-item>
            </div>
          </div>
        </div>
        <div nz-col nzSpan="14" class="m-b-50">
          <div nz-row nzJustify="space-between">
            <div nz-col [nzSpan]="24">
              <nz-form-control nzSpan="24">
                <div nz-row>
                  <div nz-col nzSpan="24" style="text-align: end">
                    <ng-container *appAuth="'R0504001'"
                      ><nz-space *ngIf="this.listOfControl.length > 0">
                        <button
                          *nzSpaceItem
                          nz-button
                          [nzSize]="'large'"
                          nzType="primary"
                          [nzLoading]="isLoading"
                          [disabled]="!this.validateForm.valid"
                          (click)="onSubmit()"
                        >
                          {{ 'Save' }}
                        </button></nz-space
                      >
                    </ng-container>
                  </div>
                </div>
              </nz-form-control>
            </div>
          </div>
        </div>
      </div>
    </form>
  </nz-card>
</div>
